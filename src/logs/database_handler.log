2025-06-25 22:08:27,878 - database_handler - INFO - ✓ MCP服务器连接成功
2025-06-25 22:08:44,221 - database_handler - INFO - 正在获取数据库schema...
2025-06-25 22:08:44,267 - database_handler - INFO - ✓ 成功获取数据库schema
2025-06-25 22:08:45,289 - database_handler - INFO - 执行SQL: SELECT `title` FROM `course` ORDER BY `title`, `credits`;, page: 0, page_size: 50
2025-06-25 22:08:45,352 - database_handler - INFO - MCP返回结果类型: <class 'mcp.types.CallToolResult'>
2025-06-25 22:08:45,353 - database_handler - INFO - MCP返回内容: meta=None content=[TextContent(type='text', text='{\n  "success": true,\n  "results": [\n    {\n      "title": "Accounting"\n    },\n    {\n      "title": "Aerodynamics"\n    },\n    {\n      "title": "African History"\n    },\n    {\n      "title": "Animal Behavior"\n    },\n    {\n      "title": "Antidisestablishmentarianism in Modern America"\n    },\n    {\n      "title": "Aquatic Chemistry"\n    },\n    {\n      "title": "Aquatic Chemistry"\n    },\n    {\n      "title": "Arabic"\n    },\n    {\n      "title": "Assembly Language Programming"\n    },\n    {\n      "title": "Astronautics"\n    },\n    {\n      "title": "Astronomy"\n    },\n    {\n      "title": "Automobile Mechanics"\n    },\n    {\n      "title": "Bacteriology"\n    },\n    {\n      "title": "Banking and Finance"\n    },\n    {\n      "title": "Bankruptcy"\n    },\n    {\n      "title": "Bioinformatics"\n    },\n    {\n      "title": "Biostatistics"\n    },\n    {\n      "title": "Biostatistics"\n    },\n    {\n      "title": "C  Programming"\n    },\n    {\n      "title": "C  Programming"\n    },\n    {\n      "title": "C  Programming"\n    },\n    {\n      "title": "Calculus"\n    },\n    {\n      "title": "Care and Feeding of Cats"\n    },\n    {\n      "title": "Cat Herding"\n    },\n    {\n      "title": "Cognitive Psychology"\n    },\n    {\n      "title": "Colloid and Surface Chemistry"\n    },\n    {\n      "title": "Compiler Design"\n    },\n    {\n      "title": "Compiler Design"\n    },\n    {\n      "title": "Compiler Design"\n    },\n    {\n      "title": "Compiler Design"\n    },\n    {\n      "title": "Composition and Literature"\n    },\n    {\n      "title": "Composition and Literature"\n    },\n    {\n      "title": "Composition and Literature"\n    },\n    {\n      "title": "Computability Theory"\n    },\n    {\n      "title": "Computability Theory"\n    },\n    {\n      "title": "Computational Biology"\n    },\n    {\n      "title": "Corporate Law"\n    },\n    {\n      "title": "Corporate Law"\n    },\n    {\n      "title": "Cost Accounting"\n    },\n    {\n      "title": "Creative Writing"\n    },\n    {\n      "title": "Data Mining"\n    },\n    {\n      "title": "Database System Concepts"\n    },\n    {\n      "title": "Death and Taxes"\n    },\n    {\n      "title": "Decison Support Systems"\n    },\n    {\n      "title": "Design and Analysis of Algorithms"\n    },\n    {\n      "title": "Differential Equations"\n    },\n    {\n      "title": "Differential Geometry"\n    },\n    {\n      "title": "Differential Geometry"\n    },\n    {\n      "title": "Differential Geometry"\n    },\n    {\n      "title": "Differential Geometry"\n    }\n  ],\n  "rowCount": 50,\n  "totalRows": 200,\n  "pagination": {\n    "current_page": 0,\n    "total_pages": 4,\n    "page_size": 50,\n    "total_rows": 200,\n    "has_next": true,\n    "has_prev": false,\n    "showing_rows": "1-50"\n  }\n}', annotations=None)] isError=False
2025-06-25 22:08:45,353 - database_handler - INFO - 原始响应内容: {
  "success": true,
  "results": [
    {
      "title": "Accounting"
    },
    {
      "title": "Aerodynamics"
    },
    {
      "title": "African History"
    },
    {
      "title": "Animal Behavior"
    },
    {
      "title": "Antidisestablishmentarianism in Modern America"
    },
    {
      "title": "Aquatic Chemistry"
    },
    {
      "title": "Aquatic Chemistry"
    },
    {
      "title": "Arabic"
    },
    {
      "title": "Assembly Language Programming"
    },
    {
      "title": "Astronautics"
    },
    {
      "title": "Astronomy"
    },
    {
      "title": "Automobile Mechanics"
    },
    {
      "title": "Bacteriology"
    },
    {
      "title": "Banking and Finance"
    },
    {
      "title": "Bankruptcy"
    },
    {
      "title": "Bioinformatics"
    },
    {
      "title": "Biostatistics"
    },
    {
      "title": "Biostatistics"
    },
    {
      "title": "C  Programming"
    },
    {
      "title": "C  Programming"
    },
    {
      "title": "C  Programming"
    },
    {
      "title": "Calculus"
    },
    {
      "title": "Care and Feeding of Cats"
    },
    {
      "title": "Cat Herding"
    },
    {
      "title": "Cognitive Psychology"
    },
    {
      "title": "Colloid and Surface Chemistry"
    },
    {
      "title": "Compiler Design"
    },
    {
      "title": "Compiler Design"
    },
    {
      "title": "Compiler Design"
    },
    {
      "title": "Compiler Design"
    },
    {
      "title": "Composition and Literature"
    },
    {
      "title": "Composition and Literature"
    },
    {
      "title": "Composition and Literature"
    },
    {
      "title": "Computability Theory"
    },
    {
      "title": "Computability Theory"
    },
    {
      "title": "Computational Biology"
    },
    {
      "title": "Corporate Law"
    },
    {
      "title": "Corporate Law"
    },
    {
      "title": "Cost Accounting"
    },
    {
      "title": "Creative Writing"
    },
    {
      "title": "Data Mining"
    },
    {
      "title": "Database System Concepts"
    },
    {
      "title": "Death and Taxes"
    },
    {
      "title": "Decison Support Systems"
    },
    {
      "title": "Design and Analysis of Algorithms"
    },
    {
      "title": "Differential Equations"
    },
    {
      "title": "Differential Geometry"
    },
    {
      "title": "Differential Geometry"
    },
    {
      "title": "Differential Geometry"
    },
    {
      "title": "Differential Geometry"
    }
  ],
  "rowCount": 50,
  "totalRows": 200,
  "pagination": {
    "current_page": 0,
    "total_pages": 4,
    "page_size": 50,
    "total_rows": 200,
    "has_next": true,
    "has_prev": false,
    "showing_rows": "1-50"
  }
}
2025-06-25 22:09:55,899 - database_handler - INFO - 请求下一页数据
2025-06-25 22:18:00,540 - database_handler - INFO - 请求上一页数据
2025-06-25 22:18:59,698 - database_handler - INFO - 请求下一页数据
2025-06-25 22:19:02,494 - database_handler - INFO - 请求下一页数据
2025-06-25 22:19:04,322 - database_handler - INFO - 请求下一页数据
2025-06-25 22:24:04,609 - database_handler - INFO - 正在获取数据库schema...
2025-06-25 22:24:04,628 - database_handler - INFO - ✓ 成功获取数据库schema
2025-06-25 22:24:05,472 - database_handler - INFO - 执行SQL: SQL：SELECT * FROM `course` WHERE `credits` > 3;, page: 0, page_size: 50
2025-06-25 22:24:05,488 - database_handler - INFO - MCP返回结果类型: <class 'mcp.types.CallToolResult'>
2025-06-25 22:24:05,488 - database_handler - INFO - MCP返回内容: meta=None content=[TextContent(type='text', text='{\n  "success": false,\n  "error": "Potentially unsafe query detected. Only SELECT queries are allowed."\n}', annotations=None)] isError=False
2025-06-25 22:24:05,488 - database_handler - INFO - 原始响应内容: {
  "success": false,
  "error": "Potentially unsafe query detected. Only SELECT queries are allowed."
}
